//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~//
//~~~~~ Project:       mTower                            ~~~~~//
//~~~~~ File:          mTowerConversions.h                ~~~~~//
//~~~~~ Author:        F. Pliquett                       ~~~~~//
//~~~~~ Created:       03.08.2020                        ~~~~~//
//~~~~~ Description:   "Lookup tables for conversions of ~~~~~//
//~~~~~                 mTower chip/lane/layer numbers"  ~~~~~//
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~//


#ifndef _MTOWERCONVERSIONS_H_
#define _MTOWERCONVERSIONS_H_


#include <map>

using namespace std;


// conversions for february data taking

const std::map< int, int > chipid2lane_feb_lut = {
  { 0,40},{ 1,39},{ 2,42},{ 3,41},{ 4,44},{ 5,43},{ 6,46},{ 7,45},
  { 8,48},{ 9,47},{10,50},{11,49},{12,52},{13,51},{14,54},{15,53},
  {16,38},{17,55},{18,36},{19,37},{20,32},{21,35},{22,34},{23,33},
  {24,64},{25,63},{26,66},{27,65},{28,68},{29,67},{30,70},{31,69},
  {32,72},{33,71},{34,74},{35,73},{36,76},{37,75},{38,78},{39,77},
  {40,62},{41,79},{42,60},{43,61},{44,56},{45,59},{46,58},{47,57}
};

const std::map< int, int > lane2chipid_feb_lut = {
  {40, 0},{39, 1},{42, 2},{41, 3},{44, 4},{43, 5},{46, 6},{45, 7},
  {48, 8},{47, 9},{50,10},{49,11},{52,12},{51,13},{54,14},{53,15},
  {38,16},{55,17},{36,18},{37,19},{32,20},{35,21},{34,22},{33,23},
  {64,24},{63,25},{66,26},{65,27},{68,28},{67,29},{70,30},{69,31},
  {72,32},{71,33},{74,34},{73,35},{76,36},{75,37},{78,38},{77,39},
  {62,40},{79,41},{60,42},{61,43},{56,44},{59,45},{58,46},{57,47}
};

//layer: top(upstream) is 0
const std::map< int, int > chipid2layer_feb_lut = {
  { 0,22},{ 1,22},{ 2,20},{ 3,20},{ 4,18},{ 5,18},{ 6,16},{ 7,16},
  { 8,14},{ 9,14},{10,12},{11,12},{12,10},{13,10},{14, 8},{15, 8},
  {16, 6},{17, 6},{18, 4},{19, 4},{20, 0},{21, 0},{22, 2},{23, 2},
  {24,23},{25,23},{26,21},{27,21},{28,19},{29,19},{30,17},{31,17},
  {32,15},{33,15},{34,13},{35,13},{36,11},{37,11},{38, 9},{39, 9},
  {40, 7},{41, 7},{42, 5},{43, 5},{44, 1},{45, 1},{46, 3},{47, 3}
};

// chips in layer sorted for left and right chips already { layer, {left chip, right chip}}
const std::map< int, std::pair< int, int > > layer2chipid_feb_lut = {
  { 0, {21, 20}}, { 1, {44, 45}}, { 2, {23, 22}}, { 3, {46, 47}},
  { 4, {19, 18}}, { 5, {42, 43}}, { 6, {17, 16}}, { 7, {40, 41}},
  { 8, {15, 14}}, { 9, {38, 39}}, {10, {13, 12}}, {11, {36, 37}},
  {12, {11, 10}}, {13, {34, 35}}, {14, { 9,  8}}, {15, {32, 33}},
  {16, { 7,  6}}, {17, {30, 31}}, {18, { 5,  4}}, {19, {28, 29}},
  {20, { 3,  2}}, {21, {26, 27}}, {22, { 1,  0}}, {23, {24, 25}}
};
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


// conversions for november data taking

//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


// define look-up tables for number of events
const std::map< int, int > runnumber2nevents_Nov = {
  {246, 4779},
  {247, 4774},
  {249, 2864},
  {250, 2417},
  {251, 2503},
  {252, 2224},
  {253, 9978},
  {254, 10100},
  {256, 50000},
  {257, 1212688},
  {258, 5387},
  {259, 5185},
  {260, 50000},
  {261, 1168767},
  {263, 50000},
  {264, 4885},
  {265, 283060},
  {269, 2632},
  {270, 3348},
  {271, 9533},
  {272, 24816},
  {273, 272561},
  {274, 4986},
  {275, 4993},
  {276, 4983},
  {277, 282505},
  {278, 4991},
  {290, 114077},
  {291, 139281},
  {292, 4942},
  {293, 295289},
  {298, 50000},
  {299, 2448},
  {300, 9825},
  {301, 247732},
  {302, 73107},
  {303, 9919},
  {304, 290669},
  {305, 9693},
  {306, 288853},
  {307, 9878},
  {308, 10000},
  {309, 10000},
  {310, 9964},
  {311, 50000},
  {312, 297345},
  {313, 292666},
  {314, 293392},
  {317, 50000},
  {318, 3000},
  {320, 294265},
  {335, 50000},
  {336, 3443},
  {337, 266113},
  {339, 3274},
  {340, 145344},
  {341, 92325},
  {342, 4846},
  {343, 290640},
  {345, 49999},
  {354, 4927},
  {355, 292525},
  {356, 4828},
  {357, 198373},
  {358, 56312},
  {359, 49999},
  {360, 164500},
  {361, 248000},
  {362, 23650},
  {363, 4842},
  {366, 206856},
  {367, 80981},
  {368, 271353},
  {369, 50000},
  {370, 9784},
  {371, 586812},
  {372, 291814},
  {403, 50000},
  {403, 50000},
  {404, 588697},
  {405, 871484},
  {406, 343950},
  {407, 232085},
  {409, 392622},
  {410, 198055},
  {411, 49999},
  {412, 99277},
  {413, 100881},
  {414, 104476},
  {415, 105000},
  {420, 25877},
  {421, 74999},
  {422, 104400},
  {423, 104201},
  {430, 25000},
  {431, 295564},
  {432, 296341},
  {433, 223006},
  {434, 246049},
  {435, 262439},
  {461, 4917},
  {462, 294404},
  {466, 290264},
  {467, 287894},
  {468, 285818},
  {469, 293163},
  {470, 15000},
  {471, 50000},
  {472, 8880},
  {473, 9856},
  {474, 273528},
  {475, 286251},
  {476, 291885},
  {477, 292033},
  {478, 298109},
  {479, 266157},
  {480, 294572},
  {481, 290069},
  {482, 290810},
  {483, 292444},
  {484, 50000},
  {487, 24999},
  {488, 5229},
  {489, 4094},
  {490, 4069},
  {491, 5799},
  {492, 2789},
  {493, 2957},
  {494, 2745},
  {495, 2720},
  {496, 2729},
  {497, 2730},
  {498, 2743},
  {499, 24410},
  {500, 3322},
  {501, 35642},
  {502, 386405},
  {503, 150597},
  {504, 383084},
  {505, 191335},
  {507, 26835},
  {508, 196710},
  {509, 294298},
  {510, 36414},
  {512, 4891},
  {513, 4846},
  {515, 290321},
  {516, 293210},
  {517, 291385},
  {519, 290577},
  {520, 297338},
  {523, 49998},
  {524, 7500},
  {526, 4913},
  {527, 294330},
  {528, 289803},
  {529, 4903},
  {530, 294550},
  {531, 288859},
  {532, 125400},
  {533, 1218667},
  {539, 163760},
  {540, 290536},
  {541, 253620},
  {542, 82221},
  {547, 3377},
  {548, 1492804}
};

const std::map< int, int > runnumber2nevents_Feb = {
  {1208, 1373},
  {1210, 115407},
  {1221, 57975},
  {1222, 395236},
  {1223, 378588},
  {1224, 380692},
  {1225, 150620},
  {1229, 201641},
  {1231, 389708},
  {1232, 46000},
  {1233, 7536},
  {1234, 7847},
  {1236, 7985},
  {1237, 444902},
  {1238, 27715},
  {1242, 11612},
  {1243, 1999},
  {1245, 278362},
  {1246, 46000},
  {1247, 55000},
  {1248, 12000},
  {1249, 42000},
  {1250, 522000},
  {1251, 522000},
  {1252, 522000},
  {1253, 82500},
  {1254, 51000},
  {1257, 522000},
  {1260, 522000},
  {1261, 522000},
  {1262, 244501},
  {1263, 522000},
  {1267, 2020},
  {1268, 2424},
  {1272, 42000},
  {1273, 97500},
  {1274, 522000},
  {1275, 49500},
  {1276, 522000},
  {1277, 19500},
  {1279, 297000},
  {1280, 297000},
  {1281, 294882},
  {1282, 297000},
  {1283, 297000},
  {1284, 294000},
  {1293, 271611},
  {1295, 69000},
  {1296, 522000},
  {1297, 522000},
  {1298, 522000},
  {1302, 477000},
  {1303, 46000},
  {1304, 295500},
  {1305, 285003},
  {1306, 594000},
  {1307, 79500},
  {1308, 294000},
  {1309, 141527},
  {1310, 277880},
  {1311, 46000},
  {1316, 27000},
  {1319, 8000},
  {1320, 8000},
  {1321, 8000},
  {1322, 8000},
  {1323, 8000},
  {1324, 278837},
  {1326, 8000},
  {1327, 297000},
  {1328, 282000},
  {1329, 8000},
  {1330, 8000},
  {1331, 8000},
  {1332, 96000},
  {1333, 295500},
  {1335, 297000},
  {1336, 594000},
  {1337, 594000},
  {1338, 297000},
  {1339, 747000},
  {1340, 92000},
  {1341, 747000},
  {1342, 81000},
  {1343, 744000},
  {1344, 735000},
  {1345, 744000},
  {1346, 617749},
  {1353, 147000},
  {1356, 92000},
  {1357, 522000},
  {1358, 522000},
  {1359, 819000},
  {1360, 297000},
  {1361, 297000},
  {1362, 92000},
  {1368, 92000},
  {1369, 72000},
  {1370, 72000},
  {1371, 72000},
  {1372, 72000},
  {1373, 72000},
  {1374, 92000},
  {1375, 391733},
  {1376, 89798},
  {1377, 18000},
  {1378, 291000},
  {1379, 295500},
  {1380, 294000},
  {1381, 8000},
  {1382, 8000},
  {1383, 8000},
  {1384, 294000},
  {1385, 297000},
  {1386, 297000},
  {1387, 8000},
  {1388, 295500},
  {1389, 297000},
  {1390, 16500},
  {1391, 594000},
  {1395, 92000},
  {1396, 92000},
  {1398, 297000},
  {1400, 295500},
  {1401, 58500},
  {1402, 75000},
  {1403, 8000},
  {1404, 8000},
  {1405, 8000},
  {1406, 447000},
  {1407, 447000},
  {1408, 444000},
  {1411, 8000},
  {1412, 8000},
  {1413, 1103742},
  {1414, 282000},
  {1415, 297000},
  {1416, 294000},
  {1417, 294000},
  {1418, 297000},
  {1419, 284268},
  {1421, 92000},
  {1422, 147000},
  {1423, 147000},
  {1424, 129000},
  {1425, 144000},
  {1426, 147000},
  {1427, 142199},
  {1428, 147000},
  {1429, 147000},
  {1431, 288000},
  {1432, 294000},
  {1433, 156000},
  {1434, 296000},
  {1435, 296000},
  {1436, 297000},
  {1437, 162539},
  {1438, 92000},
  {1439, 8000},
  {1440, 8000},
  {1441, 297000},
  {1442, 147000},
  {1443, 447000},
  {1444, 444000},
  {1445, 8000},
  {1446, 445500},
  {1447, 445500},
  {1448, 444000},
  {1452, 8000},
  {1454, 8000},
  {1455, 8000},
  {1457, 8000},
  {1458, 445500},
  {1459, 439500},
  {1460, 441001},
  {1461, 446000},
  {1462, 447000},
  {1463, 92000},
  {1465, 297000},
  {1467, 297000},
  {1468, 294000},
  {1469, 100000},
  {1470, 196000},
  {1471, 297000},
  {1750, 35638270},
  {1751, 30205531}
};
// definition of lookup tables for number of events
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


// define lookup table for energies
const std::map< int, double > runnumber2energy_Feb = {
  {1208, 3.},
  {1210, 3.},
  {1221, 3.},
  {1222, 3.},
  {1223, 5.},
  {1224, 1.},
  {1225, 2.},
  {1229, 2.},
  {1231, 4.},
  {1232, 0.},
  {1233, 3.},
  {1234, 3.},
  {1236, 3.},
  {1237, 3.},
  {1238, 5.},
  {1242, 5.},
  {1243, 5.},
  {1245, 5.},
  {1246, 0.},
  {1247, 5.},
  {1248, 5.},
  {1249, 5.},
  {1250, 5.},
  {1251, 3.},
  {1252, 1.},
  {1253, 4.},
  {1254, 4.},
  {1257, 4.},
  {1260, 2.},
  {1261, 5.},
  {1262, 3.},
  {1263, 1.},
  {1267, 4.},
  {1268, 4.},
  {1272, 4.},
  {1273, 4.},
  {1274, 4.},
  {1275, 4.},
  {1276, 2.},
  {1277, 5.},
  {1279, 5.},
  {1280, 3.},
  {1281, 5.},
  {1282, 3.},
  {1283, 1.},
  {1284, 1.},
  {1293, 3.},
  {1295, 5.},
  {1296, 5.},
  {1297, 3.},
  {1298, 1.},
  {1302, 1.},
  {1303, 0.},
  {1304, 5.},
  {1305, 3.},
  {1306, 1.},
  {1307, 5.},
  {1308, 5.},
  {1309, 5.8},
  {1310, 5.8},
  {1311, 0.},
  {1316, 3.},
  {1319, 0.},
  {1320, 3.},
  {1321, 3.},
  {1322, 3.},
  {1323, 3.},
  {1324, 3.},
  {1326, 0.},
  {1327, 5.},
  {1328, 5.},
  {1329, 0.},
  {1330, 0.},
  {1331, 0.},
  {1332, 0.},
  {1333, 5.},
  {1335, 3.},
  {1336, 1.},
  {1337, 2.},
  {1338, 4.},
  {1339, 5.},
  {1340, 0.},
  {1341, 3.},
  {1342, 1.},
  {1343, 1.},
  {1344, 2.},
  {1345, 4.},
  {1346, 5.8},
  {1353, 5.},
  {1356, 0.},
  {1357, 5.},
  {1358, 3.},
  {1359, 1.},
  {1360, 5.},
  {1361, 3.},
  {1362, 0.},
  {1368, 0.},
  {1369, 3.},
  {1370, 3.},
  {1371, 3.},
  {1372, 3.},
  {1373, 3.},
  {1374, 0.},
  {1375, 5.8},
  {1376, 5.8},
  {1377, 5.8},
  {1378, 5.},
  {1379, 3.},
  {1380, 1.},
  {1381, 1.},
  {1382, 1.},
  {1383, 1.},
  {1384, 1.},
  {1385, 3.},
  {1386, 5.},
  {1387, 5.},
  {1388, 5.},
  {1389, 3.},
  {1390, 1.},
  {1391, 1.},
  {1395, 0.},
  {1396, 0.},
  {1398, 5.},
  {1400, 3.},
  {1401, 3.},
  {1402, 3.},
  {1403, 5.},
  {1404, 5.},
  {1405, 5.},
  {1406, 5.},
  {1407, 3.},
  {1408, 1.},
  {1411, 1.},
  {1412, 1.},
  {1413, 5.},
  {1414, 5.},
  {1415, 3.},
  {1416, 1.},
  {1417, 2.},
  {1418, 4.},
  {1419, 5.8},
  {1421, 0.},
  {1422, 5.},
  {1423, 3.},
  {1424, 1.},
  {1425, 2.},
  {1426, 4.},
  {1427, 5.8},
  {1428, 5.},
  {1429, 5.},
  {1431, 3.},
  {1432, 1.},
  {1433, 2.},
  {1434, 2.},
  {1435, 2.},
  {1436, 4.},
  {1437, 5.8},
  {1438, 0.},
  {1439, 5.},
  {1440, 5.},
  {1441, 5.},
  {1442, 5.},
  {1443, 3.},
  {1444, 1.},
  {1445, 5.},
  {1446, 5.},
  {1447, 3.},
  {1448, 1.},
  {1452, 5.},
  {1454, 5.},
  {1455, 5.},
  {1457, 5.},
  {1458, 5.},
  {1459, 3.},
  {1460, 1.},
  {1461, 2.},
  {1462, 4.},
  {1463, 0.},
  {1465, 5.},
  {1467, 3.},
  {1468, 1.},
  {1469, 2.},
  {1470, 2.},
  {1471, 4.},
  {1750, 0.},
  {1751, 0.}
};
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


#endif
